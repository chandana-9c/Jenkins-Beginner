pipeline {
  agent any
    stages {
      stage('Checkout') {
        steps {
	  git branch: 'main', url: 'https://github.com/chandana-9c/Jenkins-Beginner' // go to this repo and do the task. branch mentined here can be different from branch mention in your j-pipeline
	}
      }
      stage('Build Docker Image') {
      steps {
	echo "Building Docker image..."
	sh 'docker build -t tagname-test01:latest jenkins01-pipeline-webhook-declarative-with-docker' // added 'jenkins-with-docker' - mentioning folder inside repo/dir  insted - of '.' - for current directory
      } // if your docker file name is other than 'dockerfile' like "DockerFile" "F- capital" then --> docker build -t tagname-test01:latest -f jenkins01-pipeline-webhook-declarative-with-docker/DockerFile jenkins01-pipeline-webhook-declarative-with-docker
    }
    stage('Run Docker Container') {
      steps {
        echo "Running Docker container..."
        sh 'docker run --rm tagname-test01:latest'
      }
    }
    }
}
